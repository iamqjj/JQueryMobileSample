<!DOCTYPE HTML> 
<HTML> 
 
 <HEAD> 
  <TITLE> New Document </TITLE> 
  <meta name="viewport" content="width=device-width,initial-scale=1"/> 
  <link rel="stylesheet" href="http://code.jquery.com/mobile/1.3.2/jquery.mobile-1.3.2.min.css">
  <script src="http://code.jquery.com/jquery-1.8.3.min.js"></script>
  <script src="http://code.jquery.com/mobile/1.3.2/jquery.mobile-1.3.2.min.js"></script>
  <script >

      //=========================================Page actions======================
      //页面内跳转
      $(document).on("pagebeforeshow","#pagetest",function(){ // 当进入页面时
        alert("1");
      });
      $(document).on("pageshow","#pagetest",function(){ // 当进入页面时
        alert("2");
      });
      $(document).on("pagebeforehide","#pagetest",function(){ // 当离开页面时
        alert("3");
      });
      $(document).on("pagehide","#pagetest",function(){ // 当离开页面时
        alert("4");
      });


      //外部页面加载
      //在任何页面加载请求作出之前触发。
      $(document).on("pagebeforeload", function(event,data){
        alert("before load ");
      });

      //在页面已成功加载并插入 DOM 后触发。
      $(document).on("pageload", function(event,data){
        alert("load success");
      });

      //如果页面加载请求失败，则触发该事件。默认地，将显示 "Error Loading Page" 消息。
      $(document).on("pageloadfailed",function(event,data){
        alert("load fail");
      });


      //页面创建
      //当页面即将初始化，并且在 jQuery Mobile 已开始增强页面之前，触发该事件。
      $(document).on("pagebeforecreate", "#main", function(event){
        alert("pagebeforecreate ");
      }); 

      //当页面已创建，但增强完成之前，触发该事件。
      $(document).on("pagecreate","#main", function(event){
        alert("pagecreate ");
      });

      //当页面已初始化，并且在 jQuery Mobile 已完成页面增强之后，触发该事件。
      $(document).on("pageinit","#main",function(){
        
        //=========================================Mobile Touch======================
        //tap 敲击某个元素
        $("#p_tap").on("tap",function(){
          $(this).hide();
        }); 

        // taphold 事件在用户敲击某个元素并保持一秒
        $("#p_taphold").on("taphold",function(){
          $(this).hide();
        });

        //swipe 事件在用户在某个元素上水平滑动超过 30px 时
        $("#p_swipe").on("swipe",function(){
          alert("Swipe");
        });

        //swipeleft 事件在用户在某个元素上从左滑动超过 30px 时
        //swiperight 事件在用户在某个元素上从右滑动超过 30px 时
        $("#p_swipelr").on("swipeleft",function(){
          alert("swipeleft");
        });
        $("#p_swipelr").on("swiperight",function(){
          alert("swipeleft");
        });

        //=========================================scroll bar ======================
        $(document).on("scrollstart",function(){
          alert("start scroll");
        });
        $(document).on("scrollstop",function(){
          alert("stop scroll");
        });

        //=============================================orientation==================
        $(window).on("orientationchange",function(event){
            alert( event.orientation);  //"portrait" （设备被握持的方向是垂直的）或 "landscape" （设备被握持的方向是水平的）
            if(window.orientation == 0) // Portrait  0
            {
              $("#p_orient").css({"background-color":"yellow","font-size":"300%"});
            }
            else // Landscape  90 or -90
            {
              $("#p_orient").css({"background-color":"pink","font-size":"200%"});
            }
          });


      });
  </script>
 </HEAD>

  <BODY> 
    
    <!-- main page -->
    <div data-role = "page" id="main">
      <div data-role = "header">
        <h1> Jquery actions </h1>        
      </div>
      
      <div role = "main" class = "ui-content">

        <p id = "p_tap">tap action</p>
        <p id = "p_taphold">taphold action</p>
        <p id = "p_swipe" style="border:1px solid black;height:50px;width:50px;">swipe action</p>
        <p id = "p_swipelr" style="border:1px solid black;margin:5px;" >swipe left right action</p>
        <p id = "p_orient">Orientation action</p>

        <a id = "externalfweb" href="test.html">fail external pagecreate</a>
        <a id = "externalsweb" href="https://www.baidu.com/img/bd_logo1.png">success external pagecreate</a>
        <a id = "paget" href="#pagetest">page switch actions</a>

      </div>

      <div data-role = "footer" data-position = "fixed">
        <h4> copy right</h4>
      </div>
    </div>          


    <div data-role = "page" id="pagetest">
      <div data-role = "header">
        <h1> Page  </h1>        
      </div>
      
      <div role = "main" class = "ui-content">
      </div>

      <div data-role = "footer" data-position = "fixed">
        <h4> copy right</h4>
      </div>
    </div> 

 </BODY> 
</HTML> 